# kznAgenda

Сервис по поиску популярных концертов в Казани, с персонализацией и статистикой для организаторов

  - Frontend: HTML5, CSS3, JavaScript, [Materialize](https://materializecss.com/), [Axios](https://github.com/axios/axios/blob/master/README.md)
  - Backend: Java 8, MySQL, [Jade4j](https://github.com/neuland/jade4j)

## Требования
#### Обозначения
- (#_n_) - номер страницы (с путем до неё)
- [форма №*n*] - номер формы
-----------
### Общий шаблон
> На странице для авторизованного пользователя есть _Navigation bar_ сверху: Концерты, Избранное, Чаты, выход и имя с ссылкой на личный кабинет (#4, `/lk`) 

> На странице для анонимного пользователя есть _Navigation bar_ сверху: Концерты, Вход, регистрация. 

### Страницы
1. Стартовая страница _(#1, `/`)_ отображает ближайшие концерты (самые новые в карусели сверху, затем таблицей с помощью `Cards` все чуть ниже), вне зависимости от статуса авторизации
	
	> Клик по концерту перебрасывает на страницу детального отображения (#2, `/concert?id=...`)
	> 
	> Есть поле для поиска концертов [форма №3]
    

2. На странице детального описания _(#2, `/concert?id=...`)_ можно посмотреть, какие типы билетов существуют, и, если пользователь авторизован, приобрести билет, который затем отобразится на странице (#4, `/lk`)

	> Также есть кнопка добавления артиста в избранное (AJAX POST запрос на (#5, `/lk/starred`)
	
	> И кнопка **Найти компанию**, коорая перекидывает на страницу (#7)

3. Страница регистрации  _(#3, `/register`)_ с [формой №2]

4. Личный кабинет _(#4, `/lk`)_. Выводятся данные об аккаунте, есть кнопка **Изменить** (#6, `/lk/edit`) и **Избранные концерты** (#5, `/lk/starred`)
	> Чуть ниже информация по купленным билетам в хронологическом порядке, пройденные концерты отображаются с двумя кнопками - сходил/не сходил, после чего становятся серыми

5. Избранные концерты _(#5, `/lk/starred`)_ - просто таблица с именами и ссылками на них, можно удалить из списка (ajax)

6. Изменение информации профиля _(#6, `/lk/edit`)_. Используется [форма №2] без логина и галочки.

7. Страница чата _(#7, `/chats?concert=...`)_. Чат привязывается к концерту. Применимо для поиска компании для похода на любимый концерт.
	> Слева список концертов, на которые юзер подписался, справа сами сообщения, с аватаркой и кликабельными именами.
	
8. Login page _(#8, `/login`)_ отображает поля для ввода логина и пароля [форма №1] и ссылку на регистрацию (#3, `/register`) для неавторизованного пользователя

9. Страница покупки билета _(#9, `/concert?id=...&action=order`)_. [форма №4] и кнопка Оплатить.

10. Страница артиста _(#10, `/performer?id=...`)_. Фотка, краткое описание, список концертов с его участием и пожалуй всё.

### Формы
1. `POST /login` Поля для ввода логина и пароля сопровождаются галочкой `*остаться в системе*` и кнопкой показать/скрыть пароль. При нажатии на кнопку происходит валидация и затем POST запрос на страницу (`/login`), которая редиректит снова на (#1, `/`), но если данные неверные, также отображает сверху этой страницы `Alert` с сообщением об ошибке

2. `POST /register` Поля: имя, фамилия, дата рождения, логин с счетчиком символов и два поля пароля с проверкой на минимальную длину. Есть галочка что ты принимаешь соглашение _что не будешь тыкать на сайте куда попало дабы ничего не сломалось_

3. `GET /` Поиск по названию, артисту, можно выставить порядок сортировки по дате, минимальной цене

4. `POST /order` Поля для ввода данных карты с валидацией
